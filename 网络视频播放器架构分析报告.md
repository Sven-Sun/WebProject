#网络视频播放器架构分析报告
作为基于互联网的视频播放器，在该项目中，在该项目中，视频播放是最为基本的需求，因此视频流媒体的传输与播放器的设计是该项目的两大核心模块，它们的设计架构决定了该项目整体的设计架构。
###1.视频流媒体的传输
-
本项目要实现的基于浏览器的网络视频播放系统，是一种B/S结构模式的系统，用户无需下载专门的客户端因此就依赖于在浏览器中运行的视频播放控件，播放控件与服务器之间的通信主要是由位于在应用层的RTSP协议和位于传输层的RTP协议实现。具体结构如图：
 ![网络视频播放](http://a3.qpic.cn/psb?/V137H6i31IXO1Y/3GkYRKzSLLI26JX3gzlW*qHLjxEMC2wj2HRtxvfZkAI!/b/dG0BAAAAAAAA&amp;bo=vAEuAQAAAAADALc!&amp;rf=viewer_4)
对于数据流接收模块，其工作流程分为以下步骤：首先播放控件根据主程序读取到的信息获取到播放地址并添加到播放列表中，然后创建线程有accsee插件解析Web网页传递的Url信息，请求建立RTSP对话，实现流媒体数据的传输与接收。
<br> 
对于数据流解析模块，有accsee插件获取到数据流之后，由插件进行解析，实现音视频数据的分离，然后存放到缓冲区供解码模块的调用。
###2.视频播放模块的设计
-
此模块用于对接收到的音视频数据流的解码与显示。对于视频解码模块，数据流经过插件解析后，传送到解码模块进行解码。解码模块首先判断视频格式并根据视频格式加载合适的视频解码插件，再调用解码函数进行处理，最后将解码后的数据存到缓冲区中供输出线程调用。
<br>
对于视频显示模块，数据流经过插件解码后，由视频显示模块进行处理并实现视频的播放，利用DirectX中的DirectDraw工具实现视频输出线程创建后的视频同步，画面渲染，显示图像等一系列操作。
###3.整体设计
-
采用B/S结构的网络视频播放器的整体设计如下：
![B/S架构](http://a3.qpic.cn/psb?/V137H6i31IXO1Y/KZPfSogra1HCE7A6nRThey3M6wWr6YVel7vyWSpSL*M!/b/dBkBAAAAAAAA&amp;bo=2QKAAQAAAAADB3g!&amp;rf=viewer_4)